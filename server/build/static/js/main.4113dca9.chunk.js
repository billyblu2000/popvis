(this.webpackJsonppopvis=this.webpackJsonppopvis||[]).push([[0],{328:function(t,e,a){},329:function(t,e,a){},332:function(t,e,a){},333:function(t,e,a){},351:function(t,e,a){},433:function(t,e,a){},434:function(t,e,a){},435:function(t,e,a){},436:function(t,e,a){},437:function(t,e,a){},440:function(t,e,a){},442:function(t,e,a){"use strict";a.r(e);var n,i=a(0),r=a.n(i),o=a(26),s=a.n(o),l=(a(328),a(35)),c=a(17),h=a(18),d=a(19),u=a(20),p=a(446),f=a(197),g=a(195),m=a(444),v=a(450),j=a(102),y=a(73),x=a(451),b=a(452),O=a(453),k=a(23),w=a.n(k),C=a(4),S=a(179),M=a.n(S),F=a(449),D=a(201),A=(a(329),a(1)),N=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).handelClick=function(t){n.setState({selected:t.target.id.split("-")[1]}),w.a.publish("songSelectChange",t.target.id.split("-")[1])},n.handelMouseEnter=function(t){n.props.highlightChange(t.target.id.split("-")[1])},n.handelMouseLeave=function(){n.props.highlightChange("-1")},n.search=function(t){n.setState({displayed:n.props.data.filter((function(e){return-1!==e.name.search(t.target.value)||-1!==e.artist.search(t.target.value)}))})},n.state={selected:null,yearFilter:n.props.yearFilter,displayed:n.props.data,data:n.props.data},n.searchInput=r.a.createRef(),n}return Object(h.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){if(this.state.yearFilter!==t.yearFilter)this.setState({data:t.data,displayed:t.data,yearFilter:t.yearFilter});else{var e=this.searchInput.current.state.value;void 0!==e&&this.setState({displayed:t.data.filter((function(t){return-1!==t.name.search(e)||-1!==t.artist.search(e)}))})}}},{key:"render",value:function(){var t=this;return Object(A.jsxs)("div",{className:"song-selector-root",children:[Object(A.jsx)("div",{className:"song-selector-search",children:Object(A.jsx)(F.a,{ref:this.searchInput,placeholder:"Type name or artist",prefix:Object(A.jsx)(D.a,{style:{color:"rgba(135, 165, 189, 0.678)"}}),bordered:!1,allowClear:!0,style:{width:"100%"},onChange:this.search})}),Object(A.jsx)("div",{style:{overflow:"scroll",maxHeight:"800px"},children:this.state.displayed.map((function(e,a){return a<11?Object(A.jsxs)("div",{id:"s-".concat(e.id),"data-aos-delay":100*a,"data-aos":"zoom-in","data-aos-once":!0,onClick:t.handelClick,onMouseEnter:t.handelMouseEnter,onMouseLeave:t.handelMouseLeave,className:e.id.toString()===t.state.selected?"song-item-selected":"song-item",children:[Object(A.jsx)("p",{id:"s-".concat(e.id),className:"song-item-artist",children:e.artist}),Object(A.jsx)(m.a,{id:"s-".concat(e.id),style:{marginTop:"0px",marginBottom:"10px"}}),Object(A.jsx)("p",{id:"s-".concat(e.id),className:"song-item-title",children:e.name})]},"s-".concat(e.id)):Object(A.jsxs)("div",{id:"s-".concat(e.id),onClick:t.handelClick,onMouseEnter:t.handelMouseEnter,onMouseLeave:t.handelMouseLeave,className:e.id.toString()===t.state.selected?"song-item-selected":"song-item",children:[Object(A.jsx)("p",{id:"s-".concat(e.id),className:"song-item-artist",children:e.artist}),Object(A.jsx)(m.a,{id:"s-".concat(e.id),style:{marginTop:"0px",marginBottom:"10px"}}),Object(A.jsx)("p",{id:"s-".concat(e.id),className:"song-item-title",children:e.name})]},"s-".concat(e.id))}))})]})}}]),a}(i.Component),P=(a(332),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={intro:!1,verse:!1,chorus:!1,outro:!1,other:!1},t.handelClick=function(e){"phrase-select-intro"===e.target.id?(t.publishFilter(!t.state.intro,t.state.verse,t.state.chorus,t.state.outro,t.state.other),t.setState({intro:!t.state.intro})):"phrase-select-verse"===e.target.id?(t.publishFilter(t.state.intro,!t.state.verse,t.state.chorus,t.state.outro,t.state.other),t.setState({verse:!t.state.verse})):"phrase-select-chorus"===e.target.id?(t.publishFilter(t.state.intro,t.state.verse,!t.state.chorus,t.state.outro,t.state.other),t.setState({chorus:!t.state.chorus})):"phrase-select-outro"===e.target.id?(t.publishFilter(t.state.intro,t.state.verse,t.state.chorus,!t.state.outro,t.state.other),t.setState({outro:!t.state.outro})):(t.publishFilter(t.state.intro,t.state.verse,t.state.chorus,t.state.outro,!t.state.other),t.setState({other:!t.state.other}))},t.publishFilter=function(t,e,a,n,i){t||e||a||n||i?w.a.publish("phraseFilterChange",[t,e,a,n,i]):w.a.publish("phraseFilterChange",[!0,!0,!0,!0,!0])},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsxs)("div",{className:"phrase-selector-root",children:[Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:this.handelClick,"data-aos":"flip-down","data-aos-delay":900,"data-aos-once":!0,children:this.state.intro?Object(A.jsx)("div",{className:"phrase-selection phrase-selection-left-radius intro",id:"phrase-select-intro",children:"Intro"}):Object(A.jsx)("div",{className:"phrase-selection phrase-selection-left-radius not-selected",id:"phrase-select-intro",children:"Intro"})}),Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:this.handelClick,"data-aos":"flip-down","data-aos-delay":1e3,"data-aos-once":!0,children:this.state.verse?Object(A.jsx)("div",{className:"phrase-selection verse",id:"phrase-select-verse",children:"Verse"}):Object(A.jsx)("div",{className:"phrase-selection not-selected",id:"phrase-select-verse",children:"Verse"})}),Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:this.handelClick,"data-aos":"flip-down","data-aos-delay":1100,"data-aos-once":!0,children:this.state.chorus?Object(A.jsx)("div",{className:"phrase-selection chorus",id:"phrase-select-chorus",children:"Chorus"}):Object(A.jsx)("div",{className:"phrase-selection not-selected",id:"phrase-select-chorus",children:"Chorus"})}),Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:this.handelClick,"data-aos":"flip-down","data-aos-delay":1200,"data-aos-once":!0,children:this.state.outro?Object(A.jsx)("div",{className:"phrase-selection outro",id:"phrase-select-outro",children:"Outro"}):Object(A.jsx)("div",{className:"phrase-selection not-selected",id:"phrase-select-outro",children:"Outro"})}),Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:this.handelClick,"data-aos":"flip-down","data-aos-delay":1300,"data-aos-once":!0,children:this.state.other?Object(A.jsx)("div",{className:"phrase-selection phrase-selection-right-radius other",id:"phrase-select-other",children:"Other"}):Object(A.jsx)("div",{className:"phrase-selection phrase-selection-right-radius not-selected",id:"phrase-select-other",children:"Other"})})]})}}]),a}(r.a.Component)),z=(a(333),function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={major:!1,minor:!1},t.handelClick=function(e){"mode-select-major"===e.target.id?(t.setState({major:!t.state.major}),t.publishFilter(!t.state.major,t.state.minor)):(t.setState({minor:!t.state.minor}),t.publishFilter(t.state.major,!t.state.minor))},t.publishFilter=function(t,e){t||e?w.a.publish("modeFilterChange",[t,e]):w.a.publish("modeFilterChange",[!0,!0])},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsxs)("div",{className:"mode-selector-root",children:[Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:this.handelClick,"data-aos":"flip-up","data-aos-delay":1400,"data-aos-once":!0,children:this.state.major?Object(A.jsx)("div",{className:"mode-selection mode-selection-left-radius major",id:"mode-select-major",children:"Major"}):Object(A.jsx)("div",{className:"mode-selection mode-selection-left-radius mode-not-selected",id:"mode-select-major",children:"Major"})}),Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:this.handelClick,"data-aos":"flip-up","data-aos-delay":1500,"data-aos-once":!0,children:this.state.minor?Object(A.jsx)("div",{className:"mode-selection mode-selection-right-radius minor",id:"mode-select-minor",children:"Minor"}):Object(A.jsx)("div",{className:"mode-selection mode-selection-right-radius mode-not-selected",id:"mode-select-minor",children:"Minor"})})]})}}]),a}(r.a.Component)),T=5,H=20,R=20,_=12,E=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).area=function(t,e){return C.b().x((function(e){return t(e[0])})).y0(e(0)).y1((function(t){return e(t[1])})).curve(C.h)},n.brushed=function(t){},n.brushended=function(t){if(t.selection){var e=n.xAxisScale.invert(t.selection[0]),a=n.xAxisScale.invert(t.selection[1]);w.a.publish("yearFilterChange",[e,a])}else w.a.publish("yearFilterChange",[new Date(n.minMonth),new Date(n.maxMonth)])},n.pointermoved=function(t){var e=C.x(t)[0];n.rule.attr("transform","translate(".concat(e,",0)"));var a=n.formatDate(n.xAxisScale.invert(e));n.tooltip.attr("text")!==a&&n.tooltip.attr("x",e).attr("text",a).text(a)},n.mouseEnter=function(){n.rule.selectAll("line").attr("opacity","1"),n.tooltip.attr("opacity","1")},n.mouseLeave=function(){n.rule.selectAll("line").attr("opacity","0"),n.tooltip.attr("opacity","0")},n.parseDate=C.I("%Y-%m"),n.formatDate=C.H("%Y-%m"),n.preprocess(),n.xAxisScale=C.C().domain([new Date(n.minMonth),new Date(n.maxMonth)]).range([H,600-R]),n.yAxisScale=C.z().domain([0,n.maxCount]).range([70-_,T]),n}return Object(h.a)(a,[{key:"preprocess",value:function(){var t=this,e=this.props.data.map((function(e){return t.parseDate(e.publish_year.toString()+"-"+e.publish_month.toString())}));this.minMonth=Math.min.apply(null,e),this.maxMonth=Math.max.apply(null,e);var a=e.reduce((function(t,e){return e.getTime()in t?t[e.getTime()]++:t[e.getTime()]=1,t}),{});this.maxCount=Math.max.apply(null,Object.values(a)),this.countPublishs=[];var n={};e.forEach((function(e){e.getTime()in n||(t.countPublishs.push([e,a[e.getTime()]]),n[e.getTime()]=1)}))}},{key:"componentDidMount",value:function(){this.svg=C.D("#year-brusher-svg").on("touchstart",(function(t){return t.preventDefault()})).on("pointermove",this.pointermoved).on("mouseenter",this.mouseEnter).on("mouseleave",this.mouseLeave),this.svg.append("g").attr("transform","translate(0,".concat(70-_,")")).call(C.d(this.xAxisScale).ticks(C.J.every(3)).tickSize(4)).call((function(t){return t.selectAll(".tick line").attr("stroke","#777777")})).call((function(t){return t.selectAll(".domain").attr("stroke","#777777")})).call((function(t){return t.selectAll(".tick text").attr("fill","#777777").attr("font-size","5px")})),this.svg.append("path").attr("id","year-brusher-selected").attr("fill","url('#myGradient-selected')").datum(this.countPublishs).attr("d",this.area(this.xAxisScale,this.yAxisScale)),this.svg.append("path").attr("id","year-brusher-other").attr("fill","url('#myGradient-other')").datum([]).attr("d",this.area(this.xAxisScale,this.yAxisScale)),this.rule=this.svg.append("g"),this.rule.append("line").attr("y1",T+5).attr("y2",70-_).attr("stroke","#777777").attr("stroke-width","0.5px").attr("opacity","0"),this.rule.append("line").attr("y1",T+5).attr("y2",T+5).attr("x1",0).attr("x2",20).attr("stroke","#777777").attr("stroke-width","0.5px").attr("opacity","0"),this.tooltip=this.svg.append("text").attr("y",8).attr("font-size","6px").attr("fill","#777777").attr("opacity","0"),this.svg.append("g").call(C.g().extent([[H,T+5],[600-R,70-_]]).on("brush",this.brushed).on("end",this.brushended)),w.a.publish("yearFilterChange",[new Date(this.minMonth),new Date(this.maxMonth)])}},{key:"render",value:function(){return Object(A.jsx)("div",{id:"year-brusher-svg-parent-div",children:Object(A.jsx)("svg",{id:"year-brusher-svg",width:"100%",height:"100%",viewBox:"0 0 600 70",preserveAspectRatio:"none",children:Object(A.jsxs)("defs",{children:[Object(A.jsxs)("linearGradient",{id:"myGradient-selected",gradientTransform:"rotate(90)",children:[Object(A.jsx)("stop",{offset:"30%",stopColor:"rgb(52, 105, 203)",stopOpacity:"1"}),Object(A.jsx)("stop",{offset:"100%",stopColor:"rgb(52, 105, 203)",stopOpacity:"0.1"})]}),Object(A.jsxs)("linearGradient",{id:"myGradient-other",gradientTransform:"rotate(90)",children:[Object(A.jsx)("stop",{offset:"30%",stopColor:"rgb(52, 0, 203)",stopOpacity:"1"}),Object(A.jsx)("stop",{offset:"100%",stopColor:"rgb(52, 0, 203)",stopOpacity:"0.1"})]})]})})})}}]),a}(i.Component),I=a(63),B=a(448),L=a(198),q=a(196),G=a(181),V=a.n(G),W=["#e6f7ff","#bae7ff","#91d5ff","#69c0ff","#40a9ff","#1890ff","#096dd9","#0050b3","#003a8c","#002766","#cae7ff"];function U(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}n="http://localhost:5000",window.onresize=function(){!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)||w.a.publish("full",!1)};var Y="POPVIS is a visualzation of the POP909 Dataset created by Music-X-Lab, NYU Shanghai. If you are confused about the design logic, you may find it helpful by clicking the view title or the card ribbon. For some views, you may click the button next to the view title to enter the fullscreen mode.",K="The selector card enables you to filter phrases. It is combined by 3 parts. 1. The year-month brusher: this area chart represents the song number published in specific months. The x-axis is the years and months, and the y-axis is the amount of songs that published in the month. 2. The phrase selector: five kind of phrases are included: intro, verse, chorus, outro, and other phrases. If none is selected, then by default will show all phrases. 3. The mode selector: similar to the phrase selector, you can select major mode or minor mode. By default all modes will be shown.",J="The statistics card brings different statistics of the selected songs and phrases. On the left side is the song selector. When hovering on each songs, the song information will also be highlighted in some of the statistic views. If a song is clicked, the detailed information will be shown in the song card. (For more information, please refer to the user guid of the song card.) Type in the input frame on the top-left of the statistics card, you may filter the songs by artist or name. For informations about different views, please refer to the corresponding user guid (by clicking the view\u2019s title).",X="The song card shows the detailed information of a song. To view it, you have to first click a song in the left side of the statistics card. The song information is represented by a flow of phrase cards. The phrase card in ordered from left to right, it\u2019s horizontal position represents the actual phrase location in the song. The type of the phrase is represented by color hue, with the mapping relationship: light_orange: intro; orange: verse; blue: chorus; light_blue: outro; gray: other. The width of the phrase card represents the length of the phrase, measured in bars. Two kinds of height exists. Card with larger height means the phrase have vocal, cards with smaller height don\u2019t have a vocal track. You may also view the detailed information of a phrase by clicking the card. Clicking the chord progression in the card will play the chord progression. ",Z="The chord progression view is a force directed tree, the progressions are represented by the hierarchy of tree, the saturation and the size of a node is the popularity of the current progression. ",Q="The melody pieces view is a parallel coordinates chart that shows the popular melody pieces in the selected phrases. Melodies are sliced with each piece contains five notes. The coordinates from the left to the right shows the pitch of the first note to the fifth note. The thickness and the saturation shows the popularity of a specific melody piece. Hovering will show the tooltip.",$="The pitch range view is a pie chart that shows the amount of each kind of key and mode in the selected phrases. The inner circle is all the minor tonics, while the outer circle is all the major tonics. The saturation represents the amount of a specific key and mode. ",tt="The pitch range view is a histogram that shows the number of each kind of pitch range in the selected phrases. The x-axis is the pitch range and the y-axis is the amount. Hovering will show the tooltip of detailed information.",et="The chord duration view is a pie chart that shows the proportion of each kinds of chord durations in the selected phrases. Hovering will show the tooltip of detailed information.",at="The meter view is a pie chart that shows the proportion of each kinds of meters in the selected phrases. Hovering will show the tooltip of detailed information.",nt=a(447),it=(a(351),nt.a.Text),rt={0:"C",1:"D\u266d",2:"D",3:"E\u266d",4:"E",5:"F",6:"F\u266f",7:"G",8:"A\u266d",9:"A",10:"B\u266d",11:"B"},ot={maj:" Major",min:" Minor"},st=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={playing:"stop"},t.changeDisplay=function(){!1===t.props.displayed&&t.props.changeDisplay(t.props.id)},t.collapse=function(){t.props.changeDisplay("-1")},t.testVocal=function(){return/[A-Z]/.test(t.props.label)?"has-vocal":"no-vocal"},t.testVocalUI=function(){return/[A-Z]/.test(t.props.label)?"Vocal ":"Instrumental "},t.getProgression=function(){for(var e="",a=0;a<t.props.item.chord_progression.length;a++)e=e+" - "+t.props.item.chord_progression[a];return console.log(e),e.substring(2)},t.play=function(e){"stop"===t.state.playing?(t.mp3=new Audio("/api/popvis_back_end/chordprogression/".concat(t.props.songId,"/").concat(t.props.id)),t.mp3.play(),t.mp3.addEventListener("ended",(function(e){t.setState({playing:"stop"})})),t.setState({playing:"playing"})):"pause"===t.state.playing?(t.mp3.play(),t.setState({playing:"playing"})):"playing"===t.state.playing&&(t.setState({playing:"pause"}),t.mp3.pause())},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsx)("div",{"data-aos":"flip-left","data-aos-delay":50*parseInt(this.props.id),"data-aos-once":!0,style:{display:"inline-block"},children:Object(A.jsx)(j.a,{title:"".concat(this.testVocalUI()).concat(lt(this.props.label)," with ").concat(this.props.length," bars"),children:this.props.displayed?Object(A.jsx)("div",{className:"song-display-phrase-item song-display-phrase-item-".concat(lt(this.props.label)),style:{minWidth:"400px",maxWidth:"400px"},onClick:this.changeDisplay,children:Object(A.jsxs)("div",{"data-aos":"fade-in-out","data-aos-duration":400,"data-aos-once":!0,children:[Object(A.jsx)(j.a,{title:"Click to Collapse",placement:"bottom",children:Object(A.jsx)("h1",{className:"phrase-item-title",onClick:this.collapse,children:ct(this.props.label)+" Phrase"})}),Object(A.jsxs)("p",{children:[Object(A.jsx)(B.a,{title:Object(A.jsx)("div",{style:{lineHeight:"5px"},children:"Length"}),value:this.props.length+" Bars",valueStyle:{color:"rgba(0,0,0,0.7)",fontFamily:'zillaslab,palatino,"Palatino Linotype",serif'},style:{display:"inline-block",width:"45%",marginLeft:"5%"}}),Object(A.jsx)(B.a,{title:Object(A.jsx)("div",{style:{lineHeight:"5px"},children:"Tonic/Mode"}),value:rt[this.props.item.tonic]+" "+ot[this.props.item.mode],valueStyle:{color:"rgba(0,0,0,0.7)",fontFamily:'zillaslab,palatino,"Palatino Linotype",serif'},style:{display:"inline-block",width:"45%",marginRight:"5%"}})]}),Object(A.jsxs)("p",{children:[Object(A.jsx)(B.a,{title:Object(A.jsx)("div",{style:{lineHeight:"5px"},children:"Chord Duration"}),value:this.props.item.chord_duration+" Quarters",valueStyle:{color:"rgba(0,0,0,0.7)",fontFamily:'zillaslab,palatino,"Palatino Linotype",serif'},style:{display:"inline-block",width:"45%",marginLeft:"5%"}}),Object(A.jsx)(B.a,{title:Object(A.jsx)("div",{style:{lineHeight:"5px"},children:"Pitch Range"}),value:this.props.item.pitch_range,valueStyle:{color:"rgba(0,0,0,0.7)",fontFamily:'zillaslab,palatino,"Palatino Linotype",serif'},style:{display:"inline-block",width:"45%",marginRight:"5%"}})]}),Object(A.jsx)("div",{style:{textAlign:"center",fontSize:"20px",color:"rgba(0,0,0,0.7)",transition:"0.5s",paddingLeft:"8%",paddingRight:"8%"},children:Object(A.jsx)(j.a,{placement:"bottom",title:"Click to play chord progression: "+this.getProgression(),overlayStyle:{maxWidth:"500px"},children:Object(A.jsx)(it,{ellipsis:!0,onClick:this.play,style:{color:"playing"===this.state.playing?"green":"black"},children:this.getProgression()})})})]})}):Object(A.jsx)("div",{className:"song-display-phrase-item song-display-phrase-item-".concat(lt(this.props.label)," ").concat(this.testVocal()),style:{minWidth:50*this.props.length*.4+"px",maxWidth:50*this.props.length*.4+"px"},onClick:this.changeDisplay,children:Object(A.jsx)("h1",{className:"phrase-item-title trans",children:"\xa0"})})})})}}]),a}(i.Component);function lt(t){var e={i:"intro",I:"intro",a:"verse",A:"verse",b:"chorus",B:"chorus",o:"outro",O:"outro"};return t in e?e[t]:"other"}function ct(t){var e={i:"Intro",I:"Intro",a:"Verse",A:"Verse",b:"Chorus",B:"Chorus",o:"Outro",O:"Outro"};return t in e?e[t]:"Other"}a(433);var ht={0:"C",1:"D\u266d",2:"D",3:"E\u266d",4:"E",5:"F",6:"F\u266f",7:"G",8:"A\u266d",9:"A",10:"B\u266d",11:"B"},dt={maj:" Major",min:" Minor"},ut=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={song:"waiting",display:"-1"},t.changeDisplay=function(e){t.setState({display:e.toString()})},t}return Object(h.a)(a,[{key:"render",value:function(){var t=this;return Object(A.jsx)("div",{children:"waiting"===this.state.song||void 0===this.state.song?Object(A.jsx)(I.a,{style:{paddingTop:"80px"},description:"Please select a song to view detailed information."}):Object(A.jsxs)("div",{style:{marginLeft:"5%",marginRight:"5%",paddingTop:"30px"},children:[Object(A.jsxs)("div",{className:"song-info",children:[Object(A.jsxs)("div",{className:"song-title",children:[this.state.song.name,Object(A.jsx)(v.a,{count:"".concat(this.state.song.artist),style:{backgroundColor:W[8],marginLeft:"5px"}})]}),Object(A.jsx)(B.a,{title:Object(A.jsx)("div",{style:{lineHeight:"5px"},children:"Publish Date"}),value:this.state.song.publish_date,style:{float:"right",marginLeft:"5%"}}),Object(A.jsx)(B.a,{title:Object(A.jsx)("div",{style:{lineHeight:"5px"},children:"Meter"}),value:this.state.song.meter,style:{float:"right",marginLeft:"5%"}}),Object(A.jsx)(B.a,{title:Object(A.jsx)("div",{style:{lineHeight:"5px"},children:"Initial Tonic/Mode"}),value:ht[this.state.song.phrases[0].tonic]+dt[this.state.song.phrases[0].mode],style:{float:"right",marginLeft:"5%"}})]}),Object(A.jsx)("div",{className:"song-display-divider"}),Object(A.jsxs)("div",{className:"song-structure",children:[Object(A.jsxs)("div",{style:{minWidth:"1%",display:"inline-block"},children:[Object(A.jsx)("p",{children:"\xa0"}),Object(A.jsx)("p",{children:"\xa0"}),Object(A.jsx)("p",{children:"\xa0"}),Object(A.jsx)("p",{children:"\xa0"}),Object(A.jsx)("p",{children:"\xa0"})]}),this.state.song.phrases.sort((function(t,e){return t.id-e.id})).map((function(e){return Object(A.jsx)(st,{songId:t.state.song.id,item:e,displayed:t.state.display===e.id.toString(),length:e.length,label:e.label,id:e.id,changeDisplay:function(e){return t.changeDisplay(e)}})}))]})]})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){var a;null!==t.song&&"-1"!==t.song||(a="waiting");for(var n=0;n<t.data.length;n++)t.data[n].id.toString()===t.song&&(a=t.data[n]);if(a!==e.song)return{song:a,display:"-1"}}}]),a}(i.Component),pt=(a(434),500),ft=360,gt=["C","G","D","A","E","B/C\u266d","F\u266f/G\u266d","C\u266f/D\u266d","A\u266d","E\u266d","B\u266d","F"],mt=["a","e","b","f\u266f","c\u266f","g\u266f/a\u266d","d\u266f/e\u266d","a\u266f/b\u266d","f","c","g","d"],vt={0:0,1:7,2:2,3:9,4:4,5:11,6:6,7:1,8:8,9:3,10:10,11:5},jt={0:9,1:4,2:11,3:6,4:1,5:8,6:3,7:10,8:5,9:0,10:7,11:2},yt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:t.props.data,highlight:"-1",statsMajor:[0,0,0,0,0,0,0,0,0,0,0,0],statsMinor:[0,0,0,0,0,0,0,0,0,0,0,0]},t.calcStats=function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.phrases.length;r++){var o=i.phrases[r];"maj"===o.mode?e[vt[o.tonic]]++:a[jt[o.tonic]]++}return[e,a]},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Math.min(pt,ft)/3,e=Math.min(pt,ft)/2,a=(t+e)/2,n=C.w().value(1)(gt),i=C.a().innerRadius(t).outerRadius(e),r=C.a().innerRadius(a).outerRadius(a),o=Math.min(pt,ft)/6,s=Math.min(pt,ft)/3,l=(o+s)/2,c=C.w().value(1)(mt),h=C.a().innerRadius(o).outerRadius(s),d=C.a().innerRadius(l).outerRadius(l);this.svg=C.D("#key-mode-svg"),this.svg.append("g").attr("transform","translate(258,200)").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").selectAll("path").data(n).join("path").attr("class","key-note-view-major-path").attr("data-aos","zoom-in").attr("data-aos-delay",(function(t,e){return"".concat(100*e+600+300)})).attr("d",i).append("title").text((function(t){return t.data})),this.svg.append("g").attr("transform","translate(258,200)").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").selectAll("path").data(c).join("path").attr("class","key-note-view-minor-path").attr("data-aos","zoom-in").attr("data-aos-delay",(function(t,e){return"".concat(100*e+300)})).attr("d",h).append("title").text((function(t){return t.data})),this.svg.append("g").attr("transform","translate(258,205)").attr("font-family","sans-serif").attr("font-size",14).attr("text-anchor","middle").selectAll("text").data(n).join("text").attr("transform",(function(t){return"translate(".concat(r.centroid(t),")")})).selectAll("tspan").data((function(t){return t.data})).join("tspan").attr("x",(function(t,e,a){return"".concat(.7*(e-a.length/2+.5),"em")})).attr("y",0).attr("font-weight",(function(t,e){return e?null:"bold"})).text((function(t){return t})),this.svg.append("g").attr("transform","translate(258,205)").attr("font-family","sans-serif").attr("font-size",12).attr("text-anchor","middle").selectAll("text").data(c).join("text").attr("transform",(function(t){return"translate(".concat(d.centroid(t),")")})).selectAll("tspan").data((function(t){return t.data})).join("tspan").attr("x",(function(t,e,a){return"".concat(.7*(e-a.length/2+.5),"em")})).attr("y",0).attr("font-weight",(function(t,e){return e?null:"bold"})).text((function(t){return t}))}},{key:"render",value:function(){return Object(A.jsx)("div",{id:"key-mode-svg-parent-div",children:Object(A.jsxs)("svg",{id:"key-mode-svg",width:"100%",height:"100%",viewBox:"0 0 525 380",preserveAspectRatio:"none",children:[Object(A.jsx)("text",{id:"key-mode-tooltip",x:"20",y:"380",opacity:"0"}),Object(A.jsx)("text",{x:"215",y:"190",opacity:"1",fontSize:"12px",children:"Outer for Major"}),Object(A.jsx)("text",{x:"215",y:"205",opacity:"1",fontSize:"12px",children:"Inner for Minor"})]})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){var a,n,i,r;if(t.data!==e.data){for(var o=[0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<t.data.length;l++){r=t.data[l];for(var c=0;c<r.phrases.length;c++){var h=r.phrases[c];"maj"===h.mode?o[vt[h.tonic]]++:s[jt[h.tonic]]++}}return a=Math.min(Math.min.apply(null,o),Math.min.apply(null,s)),n=Math.max(Math.max.apply(null,o),Math.max.apply(null,s)),i=C.z().domain([a,n]).range([.1,.9]),C.E(".key-note-view-major-path").attr("fill",(function(t,e){return C.q(i(o[e]))})).on("mouseover",(function(t,e){C.D(this).attr("fill","orange"),C.D("#key-mode-tooltip").attr("opacity","1").text(e.data+": "+o[e.index]+" Phrases")})).on("mouseout",(function(t,e){C.D(this).attr("fill",C.q(i(o[e.index]))),C.D("#key-mode-tooltip").attr("opacity","0")})),C.E(".key-note-view-minor-path").attr("fill",(function(t,e){return C.q(i(s[e]))})).on("mouseover",(function(t,e){C.D(this).attr("fill","orange"),C.D("#key-mode-tooltip").attr("opacity","1").text(e.data+": "+s[e.index]+" Phrases")})).on("mouseout",(function(t,e){C.D(this).attr("fill",C.q(i(s[e.index]))),C.D("#key-mode-tooltip").attr("opacity","0")})),{data:t.data,statsMinor:s,statsMajor:o}}if(t.highlight!==e.highlight){if(a=Math.min(Math.min.apply(null,e.statsMajor),Math.min.apply(null,e.statsMinor)),n=Math.max(Math.max.apply(null,e.statsMajor),Math.max.apply(null,e.statsMinor)),i=C.z().domain([a,n]).range([.1,.9]),1!==(r=e.data.filter((function(e){return e.id.toString()===t.highlight}))).length)return C.E(".key-note-view-major-path").attr("fill",(function(t,a){return C.q(i(e.statsMajor[a]))})),C.E(".key-note-view-minor-path").attr("fill",(function(t,a){return C.q(i(e.statsMinor[a]))})),{data:t.data,highlight:t.highlight};if(void 0!==r[0].phrases[0]){var d=("maj"===r[0].phrases[0].mode?vt:jt)[r[0].phrases[0].tonic];"maj"===r[0].phrases[0].mode?(C.E(".key-note-view-major-path").attr("fill",(function(t,a){return a===d?"orange":C.q(i(e.statsMajor[a]))})),C.E(".key-note-view-minor-path").attr("fill",(function(t,a){return C.q(i(e.statsMinor[a]))}))):(C.E(".key-note-view-major-path").attr("fill",(function(t,a){return C.q(i(e.statsMajor[a]))})),C.E(".key-note-view-minor-path").attr("fill",(function(t,a){return a===d?"orange":C.q(i(e.statsMinor[a]))})))}else C.E(".key-note-view-major-path").attr("fill",(function(t,a){return C.q(i(e.statsMajor[a]))})),C.E(".key-note-view-minor-path").attr("fill",(function(t,a){return C.q(i(e.statsMinor[a]))}))}return{highlight:t.highlight}}}]),a}(i.Component),xt=50,bt=50,Ot=C.z().domain([1,7]).range([430-bt-10,xt]),kt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:t.props.data},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.svg=C.D("#melody-svg");this.svg.append("g").selectAll("g").data(["1st","2nd","3rd","4th","5th"]).join("g").attr("transform",(function(t,e){return"translate(".concat(80*e+65,",0)")})).each((function(t){C.D(this).call(C.e(Ot).ticks(7)).call((function(t){return t.selectAll(".tick line").attr("stroke","#777777")})).call((function(t){return t.selectAll(".domain").attr("stroke","#777777")}))})).call((function(t){return t.append("text").attr("x",-10).attr("y",430-bt+10).attr("text-anchor","start").attr("fill","currentColor").text((function(t){return t}))}))}},{key:"render",value:function(){return Object(A.jsx)("div",{id:"melody-svg-parent-div",children:Object(A.jsx)("svg",{id:"melody-svg",width:"100%",height:"100%",viewBox:"0 0 428 430",preserveAspectRatio:"none",children:Object(A.jsx)("text",{id:"melody-tooltip",x:"20",y:"420",opacity:"0"})})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(void 0!==t.data&&t.data!==e.data){var a=document.getElementById("melody-path");void 0!==a&&null!==a&&a.remove();for(var n={},i=0;i<t.data.length;i++)for(var r=t.data[i].phrases,o=0;o<r.length;o++){var s=r[o].melody_pieces;for(var l in s)n[l]=l in n?n[l]+s[l]:s[l]}var c=[];for(var h in n)c.push([h,n[h]]);c=C.F(c,(function(t,e){return C.c(e[1],t[1])})).slice(0,30);var d=C.A().exponent(1).domain([c[0][1],c[c.length-1][1]]).range([0,1]);C.D("#melody-svg").append("g").attr("id","melody-path").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(c).join("g").attr("transform",(function(t){return"translate(0,".concat(10*(Math.random()-.5),")")})).append("path").attr("data-aos","fade-zoom-in").attr("data-aos-delay",(function(t,e){return"".concat(50*e)})).attr("stroke",(function(t){return C.q(d(t[1]))})).attr("stroke-width",(function(t){return 4*d(t[1])})).attr("stroke-opacity","0.5").attr("d",(function(t){return C.t()([[65,Ot(t[0][0])],[145,Ot(t[0][1])],[225,Ot(t[0][2])],[305,Ot(t[0][3])],[385,Ot(t[0][4])]])})).on("mouseover",(function(t,e){C.D(this).attr("stroke","orange").attr("stroke-width",6).attr("stroke-opacity","1"),C.D(this.parentNode).raise(),C.D("#melody-tooltip").attr("opacity","1").text("".concat(e[0],": Appears ").concat(e[1]," times"))})).on("mouseout",(function(t,e){C.D(this).attr("stroke",C.q(d(e[1]))).attr("stroke-opacity","0.5").attr("stroke-width",(function(t){return 4*d(t[1])})),C.D("#melody-tooltip").attr("opacity","0")})).append("title").text((function(t){return t.name}))}return{data:t.data}}}]),a}(i.Component),wt=20,Ct=20,St=(Math.min(268,197)-wt-Ct)/2.2,Mt=0+.6*St,Ft=C.a().innerRadius(0).outerRadius(St),Dt=C.a().innerRadius(Mt).outerRadius(Mt),At=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:t.props.data,highlight:t.props.highlight,colorMap:null},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsx)("div",{id:"meter-svg-parent-div",children:Object(A.jsx)("svg",{id:"meter-svg",width:"100%",height:"100%",viewBox:"0 0 268 197",preserveAspectRatio:"none",children:Object(A.jsx)("text",{id:"meter-tooltip",x:"20",y:"190",opacity:"0"})})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data){var a={};for(var n in t.data){var i=t.data[n].meter;i in a?a[i]++:a[i]=1}var r=[];for(var o in a)r.push([o,a[o]]);var s=r,l=[];for(var c in s)l.push(s[c][1]);var h=Math.min.apply(null,l),d=Math.max.apply(null,l),u=C.z().domain([h,d]).range([.3,.6]),p=C.w().value((function(t){return t[1]}))(s),f=C.D("#meter-svg");return f.append("g").attr("transform","translate(130,110)").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").selectAll("path").data(p).join("path").attr("class","meter-paths").attr("fill",(function(t){return C.s(u(t.data[1]))})).attr("d",Ft).attr("data-aos","zoom-in").attr("data-aos-delay",(function(t,e){return"".concat(300*e)})).on("mouseover",(function(t,e){C.D(this).attr("fill","orange"),C.D("#meter-tooltip").attr("opacity","1").text("".concat(e.data[0],": ").concat(e.data[1]," Songs"))})).on("mouseout",(function(t,e){C.D(this).attr("fill",C.s(u(e.data[1]))),C.D("#meter-tooltip").attr("opacity","0")})).append("title").text((function(t){return t[0]})),f.append("g").attr("transform","translate(130,110)").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","middle").selectAll("text").data(p).join("text").attr("transform",(function(t){return"translate(".concat(Dt.centroid(t),")")})).selectAll("tspan").data((function(t){var e="".concat(t.data[0]).split(/\n/);return t.endAngle-t.startAngle>.25?e:e.slice(0,1)})).join("tspan").attr("x",0).attr("y",(function(t,e){return"".concat(1.1*e,"em")})).attr("font-weight",(function(t,e){return e?null:"bold"})).text((function(t){return t})),{data:t.data,highlight:t.highlight,colorMap:u}}if(t.highlight!==e.highlight){var g=t.data.filter((function(e){return e.id.toString()===t.highlight}));return 1!==g.length&&(g=[{meter:-1}]),C.E(".meter-paths").attr("fill",(function(t){return g[0].meter===t.data[0]?"orange":C.s(e.colorMap(t.data[1]))})),{data:t.data,highlight:t.highlight,colorMap:e.colorMap}}}}]),a}(i.Component),Nt=20,Pt=20,zt=(Math.min(268,197)-Nt-Pt)/2.2,Tt=0+.6*zt,Ht=C.a().innerRadius(0).outerRadius(zt),Rt=C.a().innerRadius(Tt).outerRadius(Tt),_t=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:t.props.data,highlight:t.props.highlight,colorMap:null},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsx)("div",{id:"chord-duration-svg-parent-div",children:Object(A.jsx)("svg",{id:"chord-duration-svg",width:"100%",height:"100%",viewBox:"0 0 268 197",preserveAspectRatio:"none",children:Object(A.jsx)("text",{id:"chord-duration-tooltip",x:"20",y:"190",opacity:"0"})})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data){var a={};for(var n in t.data)for(var i in t.data[n].phrases){var r=t.data[n].phrases[i].chord_duration;r in a?a[r]++:a[r]=1}var o=[];for(var s in a)o.push([s,a[s]]);var l=C.F(o,(function(t,e){return C.c(e[1],t[1])})),c=l.slice(0,5),h=l.slice(5,l.length),d=C.G(h,(function(t){return t[1]})),u=[];for(var p in c)u.push(c[p][0]);var f=Math.min.apply(null,u),g=Math.max.apply(null,u),m=C.z().domain([f,g]).range([.2,.7]);c.push(["other",d]);var v=C.w().value((function(t){return t[1]}))(c),j=C.D("#chord-duration-svg");return j.append("g").attr("transform","translate(130,110)").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").selectAll("path").data(v).join("path").attr("class","chord-duration-paths").attr("fill",(function(t){return"other"===t.data[0]?C.r(0):C.r(m(t.data[0]))})).attr("d",Ht).attr("data-aos","zoom-in").attr("data-aos-delay",(function(t,e){return"".concat(300*e)})).on("mouseover",(function(t,e){C.D(this).attr("fill","orange"),C.D("#chord-duration-tooltip").attr("opacity","1").text("".concat(e.data[0],": ").concat(e.data[1]," Phrases"))})).on("mouseout",(function(t,e){C.D(this).attr("fill",(function(){return"other"===e.data[0]?C.r(0):C.r(m(e.data[0]))})),C.D("#chord-duration-tooltip").attr("opacity","0")})).append("title").text((function(t){return t[0]})),j.append("g").attr("transform","translate(130,110)").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","middle").selectAll("text").data(v).join("text").attr("transform",(function(t){return"translate(".concat(Rt.centroid(t),")")})).selectAll("tspan").data((function(t){var e="".concat(t.data[0]).split(/\n/);return t.endAngle-t.startAngle>.25?e:e.slice(0,1)})).join("tspan").attr("x",0).attr("y",(function(t,e){return"".concat(1.1*e,"em")})).attr("font-weight",(function(t,e){return e?null:"bold"})).text((function(t){return t})),{data:t.data,highlight:t.highlight,colorMap:m}}if(t.highlight!==e.highlight){var y=C.E(".chord-duration-paths"),x=t.data.filter((function(e){return e.id.toString()===t.highlight}));if(void 0===x||1!==x.length)return y.attr("fill",(function(t){return"other"===t.data[0]?C.r(0):C.r(e.colorMap(t.data[0]))})),{data:t.data,highlight:t.highlight,colorMap:e.colorMap};var b={};for(var O in x[0].phrases)b[x[0].phrases[O].chord_duration]=x[0].phrases[O].chord_duration;return y.attr("fill",(function(t){return t.data[0]in b?"orange":"other"===t.data[0]?C.r(0):C.r(e.colorMap(t.data[0]))})),{data:t.data,highlight:t.highlight,colorMap:e.colorMap}}}}]),a}(i.Component),Et=535,It=40,Bt=50,Lt=30,qt=20,Gt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:t.props.data,highlight:t.props.highlight},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsx)("div",{id:"pitch-range-svg-parent-div",children:Object(A.jsx)("svg",{id:"pitch-range-svg",width:"100%",height:"100%",viewBox:"0 0 535 197",preserveAspectRatio:"none",children:Object(A.jsx)("text",{id:"pitch-range-tooltip",x:"390",y:"20",opacity:"0"})})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data){!function(t){for(var e in t){var a=document.getElementById(t[e]);void 0!==a&&null!==a&&a.remove()}}(["pitch-range-view-axis","pitch-range-view-rect","pitch-range-view-label"]);var a=[];for(var n in t.data)for(var i in t.data[n].phrases){var r=t.data[n].phrases[i].pitch_range;a.push(r)}var o=[];for(var s in a)0!==a[s]&&o.push(a[s]);var l=o,c=Math.max.apply(null,l),h=C.y(l.length),d=C.u(l,(function(t){return t})),u=C.u(l,(function(t){return 1})),p=C.f().thresholds(c).value((function(t){return d[t]}))(h),f=[p[0].x0,p[p.length-1].x1],g=[0,C.v(p,(function(t){return C.G(t,(function(t){return u[t]}))}))],m=C.z(f,[Bt,Et-Lt]),v=C.z(g,[197-qt,It]),j=C.d(m).ticks(6.6875).tickSizeOuter(0),y=C.e(v).ticks(4.925),x=C.D("#pitch-range-svg");return x.append("g").attr("id","pitch-range-view-axis").attr("transform","translate(".concat(Bt,",0)")).call(y).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll(".tick line").clone().attr("x2",Et-Bt-Lt).attr("stroke-opacity",.1)})).call((function(t){return t.append("text").attr("x",Bt).attr("y",30).attr("fill","currentColor").attr("text-anchor","start")})),x.append("g").attr("id","pitch-range-view-rect").attr("fill",W[5]).selectAll("rect").data(p).join("rect").attr("class","pitch-range-view-single-rect").attr("data-aos","zoom-in-up").attr("data-aos-delay",(function(t){return 50*t.x0})).attr("x",(function(t){return m(t.x0)+.5})).attr("width",(function(t){return Math.max(0,m(t.x1)-m(t.x0)-.5-.5)})).attr("y",(function(t){return v(C.G(t,(function(t){return u[t]})))})).attr("height",(function(t){return v(0)-v(C.G(t,(function(t){return u[t]})))})).on("mouseover",(function(t,e){console.log(e),C.D(this).attr("fill","orange"),C.D("#pitch-range-tooltip").attr("opacity","1").text("[".concat(e.x0,",").concat(e.x1,"): ").concat(C.G(e,(function(t){return u[t]}))," Phrases"))})).on("mouseout",(function(t,e){C.D(this).attr("fill",W[5]),C.D("#pitch-range-tooltip").attr("opacity","0")})).append("title").text((function(t,e){return["".concat(t.x0," \u2264 x < ").concat(t.x1)].join("\n")})),x.append("g").attr("id","pitch-range-view-label").attr("transform","translate(0,".concat(197-qt,")")).call(j).call((function(t){return t.append("text").attr("x",Et-Lt).attr("y",27).attr("fill","currentColor").attr("text-anchor","end")})),{data:t.data,highlight:t.highlight}}if(t.highlight!==e.highlight){var b=C.E(".pitch-range-view-single-rect");console.log(b);var O=t.data.filter((function(e){return e.id.toString()===t.highlight}));if(void 0===O||1!==O.length)return b.attr("fill",(function(t){return W[5]})),{data:t.data,highlight:t.highlight};var k={};for(var w in O[0].phrases)k[O[0].phrases[w].pitch_range]=O[0].phrases[w].pitch_range;return b.attr("fill",(function(t){return t.x0 in k?"orange":W[5]})),{data:t.data,highlight:t.highlight}}return{data:t.data,highlight:t.highlight}}}]),a}(i.Component);a(435);var Vt=0,Wt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:t.props.data,full:t.props.full},t.zoomed=function(e){var a=e.transform;t.svg.attr("transform",a)},t.clicked=function(e,a){if(a.children){if(a._children=a.children,a.children=null,a.parent){for(var n in a.parent._children)a.parent.children.push(a.parent._children[n]);a.parent._children=null}}else if(a.children=a._children,a._children=null,a.parent){if(a.parent.children){for(var i in a.parent._children=[],a.parent.children)a.parent.children[i]!==a&&a.parent._children.push(a.parent.children[i]);a.parent.children=[a]}console.log(a.parent.children,a.parent._children)}t.update()},t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.nodes=t.flatten(t.root);var a=t.root.links();e&&(t.simulation=C.m().force("link",C.k(a).id((function(t){return t.id})).distance(100).strength(1)).force("charge",C.l().strength(-50)).force("center",C.j(316,232)).force("x",C.n()).force("y",C.o()));var n=t.sizeScale,i=t.colorScale;t.link=t.linkGroup.selectAll(".link").data(a,(function(t){return t.target.id})),t.link.exit().remove();var r=t.link.enter().append("line").attr("class","link").style("stroke","#000").style("opacity","0.1").style("stroke-width",1);t.link=r.merge(t.link),t.node=t.nodeGroup.selectAll(".node").data(t.nodes,(function(t){return t.id})),t.node.exit().remove();var o=t.node.enter().append("g").attr("class","node").attr("stroke","#666").attr("stroke-width",2).style("fill",(function(t){return"root"===t.data.name?"red":C.q(i(t.data.value))})).style("opacity",1).on("click",t.clicked).call(Ut(t.simulation));o.append("circle").attr("r",(function(t){return n(t.data.value)})).on("mouseover",(function(t,e){C.D(this).style("fill","orange"),C.D("#chord-tooltip").attr("opacity","1").text("".concat(e.data.name,": ").concat(e.data.value))})).on("mouseout",(function(t,e){C.D(this).style("fill",(function(t){return"root"===t.data.name?"red":C.q(i(t.data.value))})),C.D("#chord-tooltip").attr("opacity","0")})).text((function(t){return t.data.name})),o.append("text").style("text-anchor","middle").style("font-size","12px").style("font-weight","10px").attr("fill","black").style("user-select","none").attr("stroke-width","0.5").text((function(t){return n(t.data.value)>10?t.data.name:""})),t.node=o.merge(t.node),t.simulation.on("tick",(function(){t.link.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),t.node.attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")}))})),t.simulation.nodes(t.nodes),t.simulation.force("link").links(a),e&&t.nodes.forEach((function(t){t.children&&t.parent&&(t._children=t.children,t.children=null)})),e&&t.update()},t}return Object(h.a)(a,[{key:"shouldComponentUpdate",value:function(t,e){if(t.data!==this.state.data||t.full!==this.state.full){!function(t){for(var e in t){var a=document.getElementById(t[e]);void 0!==a&&null!==a&&a.remove()}}(["node-group","link-group"]);var a=C.K().scaleExtent([.1,40]).on("zoom",this.zoomed);this.svg=C.D("#chord-svg").append("g"),this.svg.call(a),this.nodeGroup=this.svg.append("g").attr("id","node-group"),this.linkGroup=this.svg.append("g").attr("id","link-group");var n=function(t){if(t){var e={name:"root",value:0,children:[],sum:0};for(var a in t)for(var n in t[a].phrases)for(var i=[].concat(t[a].phrases[n].chord_progression),r=i.length,o=e.children;0!==i.length&&r-i.length<=6;){var s=i.shift(),l=!1;for(var c in o)if(o[c].name===s){l=!0,o[c].value+=1,o=o[c].children;break}!1===l&&(o.push({name:s,value:1,children:[]}),o=o[o.length-1].children)}return e.sum=C.v(e.children,(function(t){return t.value})),e.value=1,e}}(t.data);this.root=C.p(n),this.node=void 0,this.link=void 0,this.sizeScale=C.B().domain([0,n.sum]).range([5,30]),this.colorScale=C.A().exponent(.2).domain([0,n.sum]).range([0,.7]),this.update(!0)}return!0}},{key:"flatten",value:function(t){var e=[];return function t(a){a.children&&a.children.forEach(t),a.id?++Vt:a.id=++Vt,e.push(a)}(t),e}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(A.jsx)("div",{id:"chord-svg-parent-div",children:Object(A.jsx)("svg",{id:"chord-svg",width:"100%",height:"100%",viewBox:"0 0 632 432",preserveAspectRatio:"none",children:Object(A.jsx)("text",{id:"chord-tooltip",x:"550",y:"30",opacity:"0"})})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{data:t.data}}}]),a}(i.Component);function Ut(t){return C.i().on("start",(function(e,a){e.active||t.alphaTarget(.3).restart(),a.fx=a.x,a.fy=a.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(e,a){e.active||t.alphaTarget(0),a.fx=null,a.fy=null}))}a(436);var Yt=0,Kt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:t.props.data,full:t.props.full},t.clicked=function(e,a){if(a.children){if(a._children=a.children,a.children=null,a.parent){for(var n in a.parent._children)a.parent.children.push(a.parent._children[n]);a.parent._children=null}}else if(a.children=a._children,a._children=null,a.parent){if(a.parent.children){for(var i in a.parent._children=[],a.parent.children)a.parent.children[i]!==a&&a.parent._children.push(a.parent.children[i]);a.parent.children=[a]}console.log(a.parent.children,a.parent._children)}t.update()},t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.nodes=t.flatten(t.root);var a=t.root.links();e&&(t.simulation=C.m().force("link",C.k(a).id((function(t){return t.id})).distance(100).strength(1)).force("charge",C.l().strength(-50)).force("center",C.j(600,400)).force("x",C.n()).force("y",C.o()));var n=t.sizeScale,i=t.colorScale;t.link=t.linkGroup.selectAll(".link").data(a,(function(t){return t.target.id})),t.link.exit().remove();var r=t.link.enter().append("line").attr("class","link").style("stroke","#000").style("opacity","0.1").style("stroke-width",1);t.link=r.merge(t.link),t.node=t.nodeGroup.selectAll(".node").data(t.nodes,(function(t){return t.id})),t.node.exit().remove();var o=t.node.enter().append("g").attr("class","node").attr("stroke","#666").attr("stroke-width",2).style("fill",(function(t){return"root"===t.data.name?"red":C.q(i(t.data.value))})).style("opacity",1).on("click",t.clicked).call(Jt(t.simulation));o.append("circle").attr("r",(function(t){return n(t.data.value)})).on("mouseover",(function(t,e){C.D(this).style("fill","orange"),C.D("#chord-full-tooltip").attr("opacity","1").text("".concat(e.data.name,": ").concat(e.data.value))})).on("mouseout",(function(t,e){C.D(this).style("fill",(function(t){return"root"===t.data.name?"red":C.q(i(t.data.value))})),C.D("#chord-full-tooltip").attr("opacity","0")})).text((function(t){return t.data.name})),o.append("text").style("text-anchor","middle").style("font-size","12px").style("font-weight","10px").attr("fill","black").attr("stroke-width","0.5").style("user-select","none").text((function(t){return n(t.data.value)>10?t.data.name:""})),t.node=o.merge(t.node),t.simulation.on("tick",(function(){t.link.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),t.node.attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")}))})),t.simulation.nodes(t.nodes),t.simulation.force("link").links(a),e&&t.nodes.forEach((function(t){t.children&&t.parent&&(t._children=t.children,t.children=null)})),e&&t.update()},t.zoomed=function(e){var a=e.transform;t.svg.attr("transform",a)},t}return Object(h.a)(a,[{key:"shouldComponentUpdate",value:function(t,e){return!0}},{key:"flatten",value:function(t){var e=[];return function t(a){a.children&&a.children.forEach(t),a.id?++Yt:a.id=++Yt,e.push(a)}(t),e}},{key:"componentDidMount",value:function(){!function(t){for(var e in t){var a=document.getElementById(t[e]);void 0!==a&&null!==a&&a.remove()}}(["node-group-full","link-group-full"]);var t=C.K().scaleExtent([.1,40]).on("zoom",this.zoomed);this.svg=C.D("#chord-full-svg").append("g"),this.svg.call(t),this.nodeGroup=this.svg.append("g").attr("id","node-group-full"),this.linkGroup=this.svg.append("g").attr("id","link-group-full");var e=function(t){if(t){var e={name:"root",value:0,children:[],sum:0};for(var a in t)for(var n in t[a].phrases)for(var i=[].concat(t[a].phrases[n].chord_progression),r=i.length,o=e.children;0!==i.length&&r-i.length<=6;){var s=i.shift(),l=!1;for(var c in o)if(o[c].name===s){l=!0,o[c].value+=1,o=o[c].children;break}!1===l&&(o.push({name:s,value:1,children:[]}),o=o[o.length-1].children)}return e.value=1,e.sum=C.v(e.children,(function(t){return t.value})),e}}(this.props.data);this.root=C.p(e),this.node=void 0,this.link=void 0,this.sizeScale=C.B().domain([0,e.sum]).range([5,30]),this.colorScale=C.A().exponent(.2).domain([0,e.sum]).range([0,.7]),this.update(!0)}},{key:"render",value:function(){return console.log(document.body.clientWidth,document.body.clientHeight),Object(A.jsx)("div",{id:"chord-full-svg-parent-div",children:Object(A.jsx)("svg",{id:"chord-full-svg",width:"100%",height:"100%",viewBox:"0 0 1200 800",preserveAspectRatio:"none",children:Object(A.jsx)("text",{id:"chord-full-tooltip",x:"600",y:"30",opacity:"0"})})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{data:t.data}}}]),a}(i.Component);function Jt(t){return C.i().on("start",(function(e,a){e.active||t.alphaTarget(.3).restart(),a.fx=a.x,a.fy=a.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(e,a){e.active||t.alphaTarget(0),a.fx=null,a.fy=null}))}var Xt=a(192),Zt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsx)("div",{style:Object(Xt.a)({},this.props.style),children:Object(A.jsx)("svg",{width:"".concat(265*this.props.scale),height:"".concat(514*this.props.scale),xmlns:"http://www.w3.org/2000/svg","p-id":"2612",version:"1.1",className:"icon",t:"1637598946996",children:Object(A.jsxs)("g",{children:[Object(A.jsx)("title",{children:"Layer 1"}),Object(A.jsx)("g",{transform:"scale(".concat(this.props.scale,")"),children:Object(A.jsxs)("g",{transform:"rotate(-10.9933 133.009 261.703)",stroke:"null",id:"svg_4",children:[Object(A.jsx)("ellipse",{stroke:"null",transform:"matrix(0.978843 -0.20694 0.204614 0.989973 -60.9424 106.009)",ry:"80.62528",rx:"49.04126",id:"svg_2",cy:"58.41445",cx:"221.87915",fill:"#003a8c"}),Object(A.jsx)("path",{stroke:"null",id:"svg_1",fill:"#003a8c","p-id":"2613",d:"m-25.21157,385.52743l143.54639,127.62276l0.2097,0.85981l31.0519,-7.7464l-72.95014,-299.11262c32.55553,21.2682 76.64091,31.11797 118.10777,20.77339c71.63232,-17.86985 107.54542,-88.81399 93.45645,-146.58208c-14.08607,-57.75617 -73.76928,-84.31403 -145.41057,-66.44195c-71.63232,17.86985 -127.48733,73.25059 -113.40126,131.00677l68.87714,284.39781l-102.48413,-91.10618l-21.00244,46.3285l-0.00081,0.0002zm177.46029,-331.88306c51.17781,-12.76714 97.69289,3.23174 105.51529,35.30538c7.8253,32.08555 -21.27342,87.49784 -72.45123,100.26497c-51.16845,12.7648 -102.41743,-22.60344 -110.24273,-54.689c-7.82252,-32.07416 26.01023,-68.11655 77.17867,-80.88135z"})]})})]})})})}}]),a}(i.Component),Qt=(a(437),a(438),Object(A.jsx)("div",{style:{textAlign:"center",paddingTop:"20px"},children:Object(A.jsx)(p.a,{indicator:Object(A.jsx)(y.a,{style:{fontSize:30},spin:!0}),tip:"Loading..."})})),$t=Object(A.jsx)("div",{style:{textAlign:"center",paddingTop:"250px"},children:Object(A.jsx)(p.a,{indicator:Object(A.jsx)(y.a,{style:{fontSize:30},spin:!0}),tip:"Loading..."})}),te=Object(A.jsx)("div",{style:{textAlign:"center",paddingTop:"100px"},children:Object(A.jsx)(p.a,{indicator:Object(A.jsx)(y.a,{style:{fontSize:30},spin:!0}),tip:"Loading..."})}),ee=Object(A.jsx)(f.a,{type:"primary",size:"small",onClick:function(){return g.a.close("help")},children:"Ok"}),ae=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={data:[],dataFiltered:[],yearFilter:null,phraseFilter:[!0,!0,!0,!0,!0],modeFilter:[!0,!0],highlight:"-1",songSelect:"-1",fullscreen:!1},t.parseDate=C.I("%Y-%m-%d"),t.enterFullscreen=function(){U(),t.setState({fullscreen:!0})},t.exitfull=function(){t.setState({fullscreen:!1})},t.showSelectorHelp=function(){t.showHelp("Selector Card",K)},t.showStatisticsHelp=function(){t.showHelp("Statistics Card",J)},t.showSongHelp=function(){t.showHelp("Song Card",X)},t.showChordProgressionHelp=function(){t.showHelp("Chord Progression View",Z)},t.showMelodyHelp=function(){t.showHelp("Melody Pieces View",Q)},t.showKeyModeHelp=function(){t.showHelp("Key-Mode View",$)},t.showPitchRangeHelp=function(){t.showHelp("Pitch Range View",tt)},t.showChordDurationHelp=function(){t.showHelp("Chord Duration View",et)},t.showMeterHelp=function(){t.showHelp("Meter View",at)},t.onYearFilterChange=function(e,a){t.filterData(a,t.state.phraseFilter,t.state.modeFilter,"yearFilter",a)},t.onPhraseFilterChange=function(e,a){t.filterData(t.state.yearFilter,a,t.state.modeFilter,"phraseFilter",a)},t.onModeFilterChange=function(e,a){t.filterData(t.state.yearFilter,t.state.phraseFilter,a,"modeFilter",a)},t.onHighlightChange=function(e){t.setState({highlight:e})},t.onSongSelectChange=function(e,a){t.setState({songSelect:a})},t.filterData=function(e,a,n,i,r){for(var o=[],s=0;s<t.state.data.length;s++){var c=!0,h=JSON.parse(JSON.stringify(t.state.data[s])),d=t.parseDate(h.publish_date);(d<e[0]||d>e[1])&&(c=!1);for(var u=[],p=0;p<h.phrases.length;p++)if(!0===n[0]&&"maj"===h.phrases[p].mode||!0===n[1]&&"min"===h.phrases[p].mode){var f=h.phrases[p].label;(!0===a[0]&&("i"===f||"I"===f)||!0===a[1]&&("a"===f||"A"===f)||!0===a[2]&&("b"===f||"B"===f)||!0===a[3]&&("o"===f||"O"===f)||!0===a[4]&&"i"!==f&&"I"!==f&&"a"!==f&&"A"!==f&&"b"!==f&&"B"!==f&&"o"!==f&&"O"!==f)&&u.push(h.phrases[p])}h.phrases=u,!0===c&&o.push(h)}t.setState(Object(l.a)({dataFiltered:o},i,r))},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){M.a.init({offset:0,duration:200,easing:"ease-in-quad",delay:0}),function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;V.a.get(n+t).then((function(t){e.setState(Object(l.a)({},a,t.data)),null!==i&&i.apply(void 0,Object(L.a)(r))}),(function(t){q.b.warn("Sorry, something wrong happened to the server!"),console.log(t)}))}("/data",this,"data"),this.yearFilterChangeSub=w.a.subscribe("yearFilterChange",this.onYearFilterChange),this.phraseFilterChangeSub=w.a.subscribe("phraseFilterChange",this.onPhraseFilterChange),this.modeFilterChangeSub=w.a.subscribe("modeFilterChange",this.onModeFilterChange),this.songSelectChangeSub=w.a.subscribe("songSelectChange",this.onSongSelectChange),this.fullSub=w.a.subscribe("full",this.exitfull),this.showWelcome()}},{key:"showWelcome",value:function(){g.a.open({key:"welcome",message:"Welcome to POPVIS!",description:Y,duration:10,icon:Object(A.jsx)(x.a,{style:{color:"green"}})})}},{key:"showHelp",value:function(t,e){g.a.open({message:"User Guide: "+t,description:e,duration:0,btn:ee,key:"help",onClose:function(){},icon:Object(A.jsx)(b.a,{style:{color:"#1890ff"}})})}},{key:"componentWillUnmount",value:function(){w.a.unsubscribe(this.yearFilterChangeSub),w.a.unsubscribe(this.phraseFilterChangeSub),w.a.unsubscribe(this.modeFilterChangeSub),w.a.unsubscribe(this.songSelectChangeSub)}},{key:"render",value:function(){var t=this;return Object(A.jsx)("div",{style:this.state.fullscreen?{margin:"0px"}:{marginLeft:"4%",marginRight:"4%"},children:this.state.fullscreen?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(Kt,{data:this.state.dataFiltered,full:!0})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"header",children:[Object(A.jsx)("div",{style:{float:"left",minWidth:"2%",minHeight:"100%",backgroundColor:W[10]}}),Object(A.jsxs)("div",{style:{float:"left",minWidth:"40%"},children:[Object(A.jsx)("div",{style:{float:"left",marginLeft:"5%"},children:Object(A.jsx)(Zt,{scale:.2,style:{float:"left",marginTop:"10px"}})}),Object(A.jsxs)("div",{style:{float:"left",marginLeft:"5px"},children:[Object(A.jsx)("h1",{className:"main-title",style:{color:W[8]},children:"OPVIS"}),Object(A.jsx)(m.a,{style:{marginTop:"0px",marginBottom:"10px",lineHeight:"1px"}}),Object(A.jsx)("h5",{className:"main-des",children:"A visualization of POP909 dataset"})]})]}),Object(A.jsx)("div",{style:{float:"right",marginLeft:"20px",minWidth:"50%",minHeight:"100%",backgroundColor:W[10]}})]}),Object(A.jsx)("div",{"data-aos-once":!0,"data-aos":"flip-down","data-aos-delay":400,children:Object(A.jsx)(v.a.Ribbon,{text:Object(A.jsx)("div",{onClick:this.showSelectorHelp,className:"card-title",children:Object(A.jsx)(j.a,{title:"Click to show help",color:"green",children:"Selector"})}),color:"green",children:Object(A.jsxs)("div",{className:"year-brusher card",children:[0===this.state.data.length?Qt:Object(A.jsx)("div",{id:"year-brusher-box",children:Object(A.jsx)(E,{data:this.state.data})}),Object(A.jsxs)("div",{className:"main-display-selector",children:[Object(A.jsx)("div",{className:"phrase-selector",children:Object(A.jsx)(P,{})}),Object(A.jsx)(m.a,{type:"vertical",style:{float:"left",marginTop:"14px",backgroundColor:"gray",marginLeft:"1%"}}),Object(A.jsx)("div",{className:"mode-selector",children:Object(A.jsx)(z,{})})]})]})})}),Object(A.jsx)("div",{"data-aos-once":!0,"data-aos":"flip-right","data-aos-delay":600,children:Object(A.jsx)(v.a.Ribbon,{text:Object(A.jsx)("div",{onClick:this.showStatisticsHelp,className:"card-title",children:Object(A.jsx)(j.a,{title:"Click to show help",color:"blue",children:"Statistics"})}),children:Object(A.jsx)("div",{className:"main-display card",children:0===this.state.data.length?$t:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"song-selector",style:{backgroundColor:W[10]},children:Object(A.jsx)(N,{data:this.state.dataFiltered,highlightChange:function(e){t.onHighlightChange(e)},yearFilter:this.state.yearFilter})}),Object(A.jsxs)("div",{className:"song-selector-right",children:[Object(A.jsxs)("div",{className:"main-display-major",children:[Object(A.jsxs)("div",{className:"chord-view view","data-aos":"flip-down","data-aos-delay":700,"data-aos-once":!0,children:[Object(A.jsxs)("div",{className:"view-title",children:[Object(A.jsx)(j.a,{title:"Click to show help",color:"blue",onClick:this.showChordProgressionHelp,children:"Chord Progressions: Click to explore"})," ",Object(A.jsx)(j.a,{title:"Click to enter fullscreen mode",color:"blue",children:Object(A.jsx)(O.a,{style:{marginLeft:"10px"},onClick:this.enterFullscreen})})]}),Object(A.jsx)(Wt,{data:this.state.dataFiltered,full:!1})]}),Object(A.jsxs)("div",{className:"melody-view view","data-aos":"flip-right","data-aos-delay":800,"data-aos-once":!0,children:[Object(A.jsx)("div",{className:"view-title",onClick:this.showMelodyHelp,children:Object(A.jsx)(j.a,{title:"Click to show help",color:"blue",children:"Melody Pieces: Hover to highlight"})}),Object(A.jsx)(kt,{data:this.state.dataFiltered})]})]}),Object(A.jsxs)("div",{className:"main-display-minor",children:[Object(A.jsxs)("div",{className:"key-mode-view view","data-aos":"flip-up","data-aos-delay":100,"data-aos-once":!0,children:[Object(A.jsx)("div",{className:"view-title",onClick:this.showKeyModeHelp,children:Object(A.jsx)(j.a,{title:"Click to show help",color:"blue",children:"Keys and Modes"})}),Object(A.jsx)(yt,{data:this.state.dataFiltered,highlight:this.state.highlight})]}),Object(A.jsxs)("div",{className:"little-view-group",children:[Object(A.jsxs)("div",{className:"pitch-range-view view","data-aos":"flip-up","data-aos-delay":200,"data-aos-once":!0,children:[Object(A.jsx)("div",{className:"view-title",onClick:this.showPitchRangeHelp,children:Object(A.jsx)(j.a,{title:"Click to show help",color:"blue",children:"Pitch range: Dynamics of Melody"})}),Object(A.jsx)(Gt,{data:this.state.dataFiltered,highlight:this.state.highlight})]}),Object(A.jsxs)("div",{className:"pie-view-group",children:[Object(A.jsxs)("div",{className:"chord-duration-view view","data-aos":"flip-down","data-aos-delay":300,"data-aos-once":!0,children:[Object(A.jsx)("div",{className:"view-title",onClick:this.showChordDurationHelp,children:Object(A.jsx)(j.a,{title:"Click to show help",color:"blue",children:"Chord Duration: Pie Chart"})}),Object(A.jsx)(_t,{data:this.state.dataFiltered,highlight:this.state.highlight})]}),Object(A.jsxs)("div",{className:"meter-view view","data-aos":"flip-down","data-aos-once":!0,children:[Object(A.jsx)("div",{className:"view-title",onClick:this.showMeterHelp,children:Object(A.jsx)(j.a,{title:"Click to show help",color:"blue",children:"Meters: Pie Chart"})}),Object(A.jsx)(At,{data:this.state.dataFiltered,highlight:this.state.highlight})]})]})]})]})]})]})})})}),Object(A.jsx)("div",{"data-aos":"flip-up","data-aos-once":!0,"data-aos-offset":300,children:Object(A.jsx)(v.a.Ribbon,{text:Object(A.jsx)("div",{onClick:this.showSongHelp,className:"card-title",children:Object(A.jsx)(j.a,{title:"Click to show help",color:"gold",children:"Song Viewer"})}),color:"gold",children:Object(A.jsx)("div",{className:"song-display card",children:0===this.state.data.length?te:Object(A.jsx)(ut,{data:this.state.data,song:this.state.songSelect})})})}),Object(A.jsx)("div",{className:"footer",children:'POP-909 Dataset: Wang, Ziyu, et al. "Pop909: A pop-song dataset for music arrangement generation." arXiv preprint arXiv:2008.07142 (2020).'}),Object(A.jsx)("div",{className:"footer",style:{paddingBottom:"30x"},children:'POP909 Dataset Phrase Analysis: Dai, Shuqi, et al "Automatic Analysis and Influence of Hierarchical Structure on Melody, Rhythm and Harmony in Popular Music." arXiv preprint arXiv:2010.07518 (2020).'}),Object(A.jsxs)("div",{className:"footer",children:[Object(A.jsx)("span",{style:{float:"left",paddingTop:"10px",paddingBottom:"100px"},children:"NYU Shanghai \uff5c Information Visualization Final Project"})," ",Object(A.jsx)("span",{style:{float:"right",paddingTop:"10px",paddingBottom:"100px"},children:" Copyright @ Billy Yi | \u6613\u7acb"})]})]})})}}]),a}(r.a.Component);i.Component,a(440),a(441);var ne=function(){return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(ae,{})})};s.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(ne,{})}),document.getElementById("root"))}},[[442,1,2]]]);
//# sourceMappingURL=main.4113dca9.chunk.js.map